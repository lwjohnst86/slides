{
  "hash": "61d2edce9304153c6b4465cc61ac22a4",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"(Non-) Reproducibility: Or, what are we even doing? And how can we improve?\"\ndate: \"2025-06-17\"\ndate-format: long\nauthor:\n  - Luke W. Johnston\nlocation: \"Neurobiology Research Unit at Rigshospitalet, Copenhagen University Hospital, Copenhagen, Denmark\"\nformat: \n  revealjs:\n    fig-align: center\n    from: markdown+emoji\n    theme:\n      - dark\n      - theme.scss\n    progress: true\n    footer: \"Licensed under CC-BY 4.0.<br>Slides at [slides.lwjohnst.com](https://slides.lwjohnst.com)\"\n    embed-resources: true\neditor: \n  markdown: \n    wrap: 72\n    canonical: true\n---\n\n::: notes\nGo over my role, work, teaching, and software.\n\nA bit of a warning, I like to rant. Vibeke mentioned this was one of the\nreasons we wanted me to come give a talk. But this is a different kind\nof rant, that will get deep and maybe a bit uncomfortable.\n\nDuring a recent research retreat at Steno Aarhus, we had a workshop on\npresenting our work. And one activity was to write down a \"pitch\",\nsomething you can easily present in 3 minutes or so.\n\nAs I started writing notes down for a potential presentation... one\nemotion in particular kept coming up: rage. Pure rage. Rage that\ncolleasced into one question.\n:::\n\n# Why are we ok with this?\n\n::: notes\nWhy are we collectively ok with this? With the way things are?\n\nWith being expected to do, basically everything, for a research project.\nStats, coding, writing, funding, data management, teaching, mentoring,\nreviewing, project management, outreach, communication... With feeling\nlike we can never do good enough, can't really do things right or even\ndo things well because of pressure to get things done. With data being a\nmess and no one taking responsibility and saying, \"stop all work, we are\nfixing this now\", with often having to do things on your own or with\nvery little support, and definitely not much support at the organization\nlevel.\n\nWhy are we ok with having PhD students do things outside the scope of\ntheir PhD and skills? Why should I have had to organise that mess of a\ndataset just to be able to use it for my PhD? When I had no fucking\nexperience or training or knowledge in how to do that? And also be\nexpected to get the right answer and do the right thing? Why should I\nhave to learn how to code on my own and try to \"just do stuff and get\nresults/output\"?\n\nWhy does no one actually review my code? How the fuck was I supposed to\nknow I was doing anything right? Why could I not just easily see the\ncode of others to learn from, without having to ask them to share it?\nWhy was the code not in an easy to find place?\n\nWhy are we ok with this?\n\nIndustry has full teams dedicated to just one of these areas... we have\nto do it all by ourselves or a few people... and have no experience or\ntraining to do it, and expected to get the right answers to support\nclaims we make... how do we even know we are getting the right answers?\n\nAnd all the while, we're expected to publish our work at \"enough\" of a\npace to be \"competitive\" and to show we are doing work? Even if you\naren't sure your results are right, we just have to get it done.\n\nWhy are we ok with this?\n:::\n\n# If we aren't ok with this, what can we do?\n\n::: notes\nWhat can we do about fixing these problems?\n\nFirst off, that's a massive topic, that I personally have begun to\nbelieve is not possible to fix until we burn everything down and start\nover.\n:::\n\n## ... at an individual group or collaborator level {.center}\n\n::: notes\nBut instead, I've started shifting to focusing on what can be fixed in a\nsingle group or with your collaborators.\n\nIt's easier to focus on, we all have much more control over that level.\n\nThe next is, what part do we want to fix? There is a fuck ton of things\nthat are wrong. So what could we focus on?\n:::\n\n## ... within reproducibility and the connected open science {.center}\n\n::: notes\nFor me, that's mainly around reproducibility and directly tied to it is\nopen science.\n\nSo let me focus down on reproducibility and open science, and I'll talk\na bit about what I've been doing in that space. Reproducibility is\nsomething that we researchers could ideally easily do. And since it\ndepends on access to both data and code, sharing code is also stupid\neasy.\n:::\n\n# Same data, same code, same results?\n\nWhat's the current state of that?\n\n::: notes\nSo, same data, same code, same results, right? But nope, it isn't that\nway.\n:::\n\n## Very low reproducibility in most of science {.smaller}\n\n::: {layout-ncol=\"2\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-1-1.png){width=960}\n:::\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-2-1.png){width=960}\n:::\n:::\n\n:::\n\n[DOI:\n10.1093/gigascience/giad113](https://academic.oup.com/gigascience/article/doi/10.1093/gigascience/giad113/7516267?login=false)\n\n## Even in institutional code and data archive, *executability* is low! {.center}\n\n-   Code taken from [Harvard Dataverse Project](https://dataverse.org/)\n    data repositories\n-   Only 25% could be *executed* without some \"cleaning up\"\n-   After some automatic cleaning, \\~50% could *execute*\n\n[DOI:\n10.1038/s41597-022-01143-6](https://www.nature.com/articles/s41597-022-01143-6)\n\n::: notes\nRecent large study on general reproducibility of projects that shared\ncode.\n\nInitially only 25% of the R scripts could be *executed* (doesn't mean\nresults were reproduced though). After doing automatic and some manual\ncode cleaning, than about half could be executed. That's not bad.\n\nSince scripts were taken from Dataverse.org, researchers who upload\ntheir code and projects to it probably are a bit more aware and\nknowledgeable about general reproducibility and coding then the average\nresearcher, so the results are a bit biased.\n:::\n\n## Why are we ok with this? {.center}\n\nVerification is key to calling it science...\n\n::: notes\nWhy are we ok with this? What are we even doing? The key thing that\nseparates pseudoscience and religion is the philosophical principle that\nwhatever you claim you have to prove. Does this look like we are doing\nany proving? I haven't even touch on the results from replication\nstudies. So, can we even say that we're doing science?\n:::\n\n# My experiences: UK Biobank project at Steno Aarhus {.center}\n\n::: notes\nMy experiences with a group project at Steno Aarhus using the UK\nBiobank, as well as experiences generally across Steno Aarhus.\n:::\n\n## Two main aims {.center}\n\n> -   To build up a process and workflow for effective collaboration\n>     that follows best practices and principles in openness,\n>     reproducibility, and scientific rigor.\n> -   To build a community around a shared project at Steno Aarhus in\n>     order to create a better research culture ...\n\n## Achieve by using many reproducible and open practices on sub-projects {.center}\n\n-   Fully reproducible analysis\n-   Version control\n-   Code-based extraction of data\n-   Code reviews throughout\n-   Publish protocol, preprint, and code\n\nSee: <https://steno-aarhus.github.io/ukbAid/#next-steps>\n\n::: notes\nWalk-through the website.\n:::\n\n## My personal aim: Automate/streamline many project organization/management tasks {.center}\n\n::: notes\nGo back to the image and highlight areas I wanted to automate.\n:::\n\n## UK Biobank and RAP was a great opportunity to do full reproducibility {.center}\n\n-   RAP = Research Analysis Platform from DNAnexus\n-   Clean, empty environment every time you start up\n\n## Flows between environments\n\n![](flow.png){width=80%}\n\n```{mermaid}\n%%| eval: false\n%% I couldn't get this to work.\nflowchart LR\n  data[(UK Biobank database<br>on RAP server)]\n  analysis(Analysis<br>environment<br>on RAP)\n  github(GitHub<br>repository<br>for project)\n  local(Researcher's<br>local computer)\n\n  data -- download --> analysis\n  github <-- pull/push --> analysis\n  github <-- pull/push --> local\n```\n\n## Biggest challenge: Working with RAP is a mess {.center}\n\n::: notes\nThis challenge represents a lot of the struggles I had with this project\nin general. E.g. RAP has/had lack of support for R projects, mostly\ntargeted Python users (but still not well).\n:::\n\n## Documentation was/is near to the lowest priority they had {.center}\n\n## But finally created an R package to help others out {.center}\n\n<https://github.com/steno-aarhus/ukbAid>\n\n::: notes\nThis was a huge effort, and took a lot of time and debugging and diving\ninto the technical details of RAP to get to this point.\n\nGo over the \"working with RAP\" section.\n\nBriefly go over admin section.\n\nThen go to completed projects and show Niels' project.\n:::\n\n## Next challenge: Reviewing code, which was enlightening {.center}\n\n\"It runs\", doesn't mean it outputs what you think it does.\n\n-   <https://github.com/steno-aarhus/leha/pull/16>\n-   <https://github.com/steno-aarhus/legliv/pull/20/files>\n-   <https://github.com/steno-aarhus/legliv/pull/7/files>\n\n::: notes\nIt was very difficult to balance between giving constructive feedback,\nbut also enough and in a way that taught the person how to code in a\nbetter way or if the code didn't actually do what they thought it did.\nThere was a lot of that actually. \"It runs\", but it might not do what\nyou think it does.\n\nHighlights such how far we researchers are from being able to code\neffectively and in many cases correctly.\n:::\n\n## But also an immense amount of work and time {.center}\n\n::: notes\nDoing a code review is very difficult. It takes a lot of mental energy\nto understand what someone else is doing when they way they do it isn't\nwell thought out, well structured, or even semantically/syntactically\ncorrect.\n:::\n\n## Basically done by only me {.center}\n\n## Pressure to publish and limited training = lower priority for reproducibility {.center}\n\n-   Limited understanding or effective use of GitHub\n\n-   PhD students and postdocs don't get rewarded for getting it right,\n    they get rewarded for publishing\n\n::: notes\nSo they focus on that (they don't embrace the reason, they only\nintellectually understand it)\n:::\n\n## I stepped back, I was burning out {.center}\n\n## Important lesson: We desperately need TEAMS! {.center}\n\n## Success 1: Everyone *had* to use Git/GitHub {.center}\n\n<https://github.com/orgs/steno-aarhus/teams/ukbiobank-team/repositories>\n\n::: notes\nEveryone *has* to use Git and GitHub, so everyone has to learn it, which\nhas helped that aim of my plan.\n:::\n\n## Success 2: Code published after paper published {.center}\n\nAdvantage: I controlled their GitHub repo (via the organization)\n\n<https://steno-aarhus.github.io/ukbAid/projects.html#completed>\n\n::: notes\nI control the GitHub org, so when they publish the paper, I make the\nrepo public and put it on Zenodo. They have no choice.\n:::\n\n# My experiences: Steno Aarhus using GitHub\n\n## Rant a lot :mega: and repeat regularly {.center}\n\n## Ranted enough, Steno Aarhus adopted using GitHub {.center}\n\nAt least for building websites and hosting material on projects\n\n## Initially used GitHub to put common documents :memo: {.center}\n\nWebsite: <https://steno-aarhus.github.io/research/>\\\nGitHub: <https://github.com/steno-aarhus/research>\n\n## Several project website being hosted there {.center}\n\n<https://steno-aarhus.github.io/>\n\n# Strategies at the individual level\n\n::: notes\nThere's only so much an individual can do, in particular those without a\nlot of power to make changes. I don't want anyone to feel like they\nindividually should be responsible for things to change, especially PhD\nstudents and short-term postdocs, or that they should be fixing\neverything.\n:::\n\n## Rant, be vocal, and don't be ok with it {.center}\n\nBe angry, be mad! :rage:\n\n## Expect more from your collaborators and organisation/group {.center}\n\nAnd verbalise it! :cursing_face:\n\n# Strategies at the group or organisational level\n\n## Strong top-down enforcement of practices {.center}\n\n::: notes\nStrong top-down enforcement of practices. PhD student doing thesis?\nSorry, you can't defend until all the code is published and (ideally)\nindependently reproduced (or at least reviewed by several others).\n\nCan't expect PhD students to do it, or postdocs, or whatever. If you\ncontrol or have influence on how the group does things, this\nresponsibility is completely on you.\n:::\n\n## Make someone, with power, responsible for the practices {.center}\n\nBoth overseeing but also doing the work as needed\n\n::: notes\nAssigning someone as the responsible person for ensuring reproducibility\nand (someone else?) uploading code to an archive/GitHub.\n:::\n\n## Make group-specific package to handle common tasks {.center}\n\nAnd assign and support someone to build and maintain it\n\n## Have clear expectations and requirements, e.g. on tools {.center}\n\n-   Git, GitHub\n-   Quarto (Markdown)\n-   Targets (if R)\n-   Justfile/Makefile (for general build management)\n-   Snakemake/prefect/nextflow (for Python)\n\n::: notes\nTools that encourage/enable reproducibility and open science\n:::\n\n# More resources and information\n\n<https://lukewjohnston.com/>\n\n## Teaching {.center}\n\n-   [r-cubed-intro.rostools.org](https://r-cubed-intro.rostools.org/)\n-   [r-cubed-intermediate.rostools.org](https://r-cubed-intermediate.rostools.org/)\n-   [r-cubed-advanced.rostools.org](https://r-cubed-advanced.rostools.org/)\n-   [github-intro.rostools.org](https://github-intro.rostools.org/)\n\n## My current work and collaborations {.center}\n\n-   [Seedcase Project](https://seedcase-project.org/): Building FAIR,\n    organized, and modern infrastructures for research data\n-   [DP-Next](https://dp-next.github.io/): \"...developing a sustainably\n    effective strategy for prevention of Type 2 Diabetes\". My focus on\n    \"doing better research in less time and fewer resources\"\n-   [ON-LiMiT](https://github.com/on-limit-study): \"An intervention\n    study for remission of type 2 diabetes with diet and exercise\". My\n    focus is on building a fantastic database for them.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}